{"greeting": "Greetings from The On-Line Encyclopedia of Integer Sequences! http://oeis.org/", "query": "id:A227050", "count": 1, "start": 0, "results": [{"number": 227050, "data": "0,0,0,0,0,2,1,4,88,0,976,22277,22365,376002,3172018,5821944,10222624,424452210,6129894510,38164752224", "name": "Number of essentially different ways of arranging numbers 1 through 2n around a circle so that the sum and absolute difference of each pair of adjacent numbers are prime.", "comment": ["See a similar problem, but for the set of numbers {0 through (n-1)}. - _Stanislav Sykora_, May 30 2014"], "link": ["Gary Antonick, <a href=\"http://wordplay.blogs.nytimes.com/2013/06/17/primes-circle/?_r=0\">Numberplay: Bernardo Recam\u00e1n\u2019s Primes in a Circle Puzzle</a>, Jun 17 2013.", "Stanislav Sykora, <a href=\"http://dx.doi.org/10.3247/SL5Math14.002\">On Neighbor-Property Cycles</a>, <a href=\"http://ebyte.it/library/Library.html#math\">Stan's Library</a>, Volume V, 2014; Table III."], "example": ["For n = 6 the a(6) = 2 solutions are (1, 4, 9, 2, 5, 12, 7, 10, 3, 8, 11, 6) and (1, 6, 11, 8, 3, 10, 7, 4, 9, 2, 5, 12) because abs(1 - 4) = 3 and 1 + 4 = 5 are prime, etc."], "mathematica": ["A227050[n_] :=", "Count[Map[lpf, Map[j1f, Permutations[Range[2,2 n]]]], 0]/2;", "j1f[x_] := Join[{1}, x, {1}];", "lpf[x_] := Length[", "   Join[Select[asf[x], ! PrimeQ[#] &],", "    Select[Differences[x], ! PrimeQ[#] &]]];", "asf[x_] := Module[{i}, Table[x[[i]] + x[[i + 1]], {i, Length[x] - 1}]];", "Table[A227050[n], {n, 1, 6}]", "(* OR, a less simple, but more efficient implementation. *)", "A227050[n_, perm_, remain_] := Module[{opt, lr, i, new},", "   If[remain == {},", "     If[PrimeQ[First[perm] - Last[perm]] &&", "       PrimeQ[First[perm] + Last[perm]], ct++];", "     Return[ct],", "     opt = remain; lr = Length[remain];", "     For[i = 1, i <= lr, i++,", "      new = First[opt]; opt = Rest[opt];", "      If[! (PrimeQ[Last[perm] - new] && PrimeQ[Last[perm] + new]),", "       Continue[]];", "      A227050[n, Join[perm, {new}],", "       Complement[Range[2 n], perm, {new}]];", "      ];", "     Return[ct];", "     ];", "   ];", "Table[ct = 0; A227050[n, {1}, Range[2, 2 n]]/2, {n, 1, 10}]", "(* _Robert Price_, Oct 22 2018 *)"], "program": ["(C++) // Listed in the Sykora link."], "xref": ["Cf. similar sequences: A051252 (with sums of neighbors prime), A242527 (with sums of neighbors prime), A228626 (with differences of neighbors prime), A242528 (with sums and differences of neighbors prime)."], "keyword": "nonn,more,hard", "offset": "1,6", "author": "_Tim Cieplowski_, Jun 29 2013", "ext": ["a(15)-a(18) added by _Tim Cieplowski_, Jan 04 2015", "a(19) from _Fausto A. C. Cariboni_, Jun 06 2017", "a(20) from _Bert Dobbelaere_, Feb 15 2020"], "references": 5, "revision": 70, "time": "2020-02-16T01:17:48-05:00", "created": "2013-07-04T02:56:38-04:00"}]}