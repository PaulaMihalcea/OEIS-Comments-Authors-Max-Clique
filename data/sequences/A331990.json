{"greeting": "Greetings from The On-Line Encyclopedia of Integer Sequences! http://oeis.org/", "query": "id:A331990", "count": 1, "start": 0, "results": [{"number": 331990, "data": "1,0,-1,0,1,1,1,-1,-1,0,-1,0,-1,1,1,1,-1,0,1,1,1,-1,0,0,0,-1,1,1,-1,0,1,1,1,0,-1,0,0,0,-1,1,-1,-1,1,0,0,0,0,-1,1,1,0,-1,0,0,-1,-1,1,-1,1,-1,-1,0,-1,-1,0,0,-1,1,1,1,0,0,1,-1,-1,1,0,0,0", "name": "Balanced ternary expansion of e.", "comment": ["For the first n digits of the sequence, take the smallest substring with n or more digits of the standard ternary expansion of e (A004594) such that it does not end with 1 and prepend a 0. For n = 15, this would be:", "0, 2, 2, 0, 1, 1, 0, 1, 1, 2, 1, 2, 2, 1, 1, 0.", "Wherever there is a 2, change it to -1 and add 1 to the previous term:", "1, 0, -1, 0, 1, 1, 0, 1, 2, -1, 2, 0, -1, 1, 1, 0.", "Repeat until no 2's remain:", "1, 0, -1, 0, 1, 1, 0, 2, -1, 0, -1, 0, -1, 1, 1, 0.", "1, 0, -1, 0, 1, 1, 1, -1, -1, 0, -1, 0, -1, 1, 1, 0.", "Remove all but the first n digits:", "1, 0, -1, 0, 1, 1, 1, -1, -1, 0, -1, 0, -1, 1, 1."], "link": ["Iain Fox, <a href=\"/A331990/b331990.txt\">Table of n, a(n) for n = 2..20000</a>", "Wikipedia, <a href=\"http://en.wikipedia.org/wiki/Balanced_ternary\">Balanced ternary</a>"], "example": ["e = 2.7182818284... = 1 * 3^1 + 0 * 3^0 - 1 * 3^(-1) + 0 * 3^(-2) + 1 * 3^(-3) + ... = 10.T0111TT0T0..._bal3"], "program": ["(PARI) first(n) = {default(realprecision, 10000); for(x=-1, +oo, v=concat([0],digits(floor(exp(1)*3^(n+x)), 3)); if(v[#v]!=1, break())); while(vecmax(v)==2, for(x=1, #v, if(v[x]==2, v[x]=-1; v[x-1]++))); vecextract(v, 2^n-1)} \\\\ (adjust realprecision as needed)"], "xref": ["Pi in balanced ternary: A331313.", "Expansion of e in base b: A004593 (b = 2), A004594 (b = 3), A004595 (b = 4), A004596 (b = 5), A004597 (b = 6), A004598 (b = 7), A004599 (b = 8), A004600 (b = 9), A001113 (b = 10), A170873 (b = 16)."], "keyword": "base,easy,sign", "offset": "2", "author": "_Iain Fox_, Feb 03 2020", "references": 2, "revision": 11, "time": "2020-03-04T09:21:47-05:00", "created": "2020-02-29T21:34:51-05:00"}]}