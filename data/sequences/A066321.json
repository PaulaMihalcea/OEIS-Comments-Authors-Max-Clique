{"greeting": "Greetings from The On-Line Encyclopedia of Integer Sequences! http://oeis.org/", "query": "id:A066321", "count": 1, "start": 0, "results": [{"number": 66321, "data": "0,1,12,13,464,465,476,477,448,449,460,461,272,273,284,285,256,257,268,269,3280,3281,3292,3293,3264,3265,3276,3277,3088,3089,3100,3101,3072,3073,3084,3085,3536,3537,3548,3549,3520,3521,3532,3533,3344,3345,3356", "name": "Binary representation of base-(i-1) expansion of n: replace i-1 with 2 in base-(i-1) expansion of n.", "comment": ["Here i = sqrt(-1).", "First differences follow a strange period-16 pattern: 1 11 1 XXX 1 11 1 -29 1 11 1 -189 1 11 1 -29 where XXX is given by A066322. Number of one-bits is A066323.", "From _Andrey Zabolotskiy_, Feb 06 2017: (Start)", "(Observations.)", "Actually, the sequence of the first differences can be split into blocks of size of any power of 2, and there will be only one position in the block that does not repeat. In this sense, one may say that the first differences follow (almost-)period-2^s pattern for any s > 0.", "Specifically, the first differences are given by the formula: a(n+1)-a(n) = A282137(A007814((n xor ...110011001100) + 1)). Here binary representation of n is bitwise-xored with the period-4 bit sequence (A021913 written right-to-left) which is infinite or simply long enough; A007814(m) does not depend on the bits of m other than the least significant 1.", "A282137 gives all first differences in the order of decreasing occurrence frequency.", "(End)", "Penney shows that since (i-1)^4 = -4, the representation a(n) of a real integer n is found by writing n in base -4 using digits 0 to 3 (A007608), changing those digits to bit strings 0000, 0001, 1100, 1101 respectively, and interpreting as binary. - _Kevin Ryde_, Sep 07 2019"], "reference": ["D. E. Knuth, The Art of Computer Programming. Addison-Wesley, Reading, MA, 1969, Vol. 2, p. 172. (See also exercise 16, p. 177; answer, p. 494.)"], "link": ["Paul Tek, <a href=\"/A066321/b066321.txt\">Table of n, a(n) for n = 0..10000</a>", "Joerg Arndt, <a href=\"https://jjj.de/fxt/demo/bits/index.html#radix-m1pi\">The fxt demos: bit wizardry, radix(-1+i)</a>, C++ radix-m1pi.h function bin_real_to_radm1pi().", "Solomon I. Khmelnik, <a href=\"http://lib.izdatelstwo.com/Papers2/s4.djvu\">Specialized Digital Computer for Operations with Complex Numbers</a>, Questions of Radio Electronics, 12 (1964), 60-82 [in Russian].", "W. J. Penney, <a href=\"http://dx.doi.org/10.1145/321264.321274\">A \"binary\" system for complex numbers</a>, JACM 12 (1965), 247-248.", "N. J. A. Sloane, <a href=\"/A066321/a066321.txt\">Table of n, (I-1)^n for n = 0..100</a>", "Paul Tek, <a href=\"/A066321/a066321.pl.txt\">Perl program for this sequence</a>", "Andrey Zabolotskiy, <a href=\"http://pastebin.com/uHJW13zf\">negation & addition of Gaussian integers written in base i-1</a> [Python script]."], "formula": ["In \"rebase notation\" a(n) = (i-1)[n]2.", "G.f. g(z) satisfies g(z) = z*(1+12*z+13*z^2)/(1-z^4) + 16*z^4*(13+12*z^4+z^8)/((1-z)*(1+z^4)*(1+z^8)) + 256*(1-z^16)*g(z^16)/(z^12-z^13). - _Robert Israel_, Oct 21 2016"], "example": ["a(4) = 464 = 2^8 + 2^7 + 2^6 + 2^4 since (i-1)^8 + (i-1)^7 + (i-1)^6 + (i-1)^4 = 4."], "maple": ["f:= proc(n) option remember; local t,m;", "   t:= n mod 4;", "   procname(t) + 16*procname((t-n)/4)", "end proc:", "f(0):= 0: f(1):= 1: f(2):= 12: f(3):= 13:", "seq(f(i),i=0..100); # _Robert Israel_, Oct 21 2016"], "program": ["(Perl) See Links section.", "(Python)", "from gmpy2 import c_divmod", "u = ('0000','1000','0011','1011')", "def A066321(n):", "    if n == 0:", "        return 0", "    else:", "        s, q = '', n", "        while q:", "            q, r = c_divmod(q, -4)", "            s += u[r]", "        return int(s[::-1],2) # _Chai Wah Wu_, Apr 09 2016", "(PARI) a(n) = my(ret=0,p=0); while(n, ret+=[0,1,12,13][n%4+1]<<p; n\\=-4;p+=4); ret; \\\\ _Kevin Ryde_, Sep 07 2019"], "xref": ["Cf. A066322, A066323, A282137.", "See A271472 for the conversion of these decimal numbers to binary.", "See A009116 and A009545 for real and imaginary parts of (i-1)^n (except for signs).", "See A256441 for expansions of -n."], "keyword": "base,easy,nonn", "offset": "0,3", "author": "_Marc LeBrun_, Dec 14 2001", "references": 15, "revision": 56, "time": "2021-01-19T21:14:23-05:00", "created": "2003-05-16T03:00:00-04:00"}]}