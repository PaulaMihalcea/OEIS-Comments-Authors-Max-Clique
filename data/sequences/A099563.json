{"greeting": "Greetings from The On-Line Encyclopedia of Integer Sequences! http://oeis.org/", "query": "id:A099563", "count": 1, "start": 0, "results": [{"number": 99563, "data": "0,1,1,1,2,2,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4", "name": "a(0) = 0; for n > 0, a(n) = final nonzero number in the sequence n, f(n,2), f(f(n,2),3), f(f(f(n,2),3),4),..., where f(n,d) = floor(n/d); the most significant digit in the factorial base representation of n.", "comment": ["Records in {a(n)} occur at {1,4,18,96,600,4320,35280,322560,3265920,...}, which appears to be n*n! = A001563(n).", "The most significant digit in the factorial expansion of n (A007623). Proof: The algorithm that computes the factorial expansion of n, generates the successive digits by repeatedly dividing the previous quotient with successively larger divisors (the remainders give the digits), starting from n itself and divisor 2. As a corollary we find that A001563 indeed gives the positions of the records. - _Antti Karttunen_, Jan 01 2007."], "link": ["Antti Karttunen, <a href=\"/A099563/b099563.txt\">Table of n, a(n) for n = 0..10080</a>", "<a href=\"/index/Fa#facbase\">Index entries for sequences related to factorial base representation</a>"], "formula": ["From _Antti Karttunen_, Dec 25 2015: (Start)", "a(0) = 0; for n >= 1, if A265333(n) = 1 [when n is one of the terms of A265334], a(n) = 1, otherwise 1 + a(A257684(n)).", "Other identities. For all n >= 0:", "a(A001563(n)) = n. [Sequence works as a left inverse for A001563.]", "a(n) = A257686(n) / A048764(n).", "(End)"], "example": ["For n=15, f(15,2) = floor(15/2)=7, f(7,3)=2, f(2,4)=0, so a(15)=2.", "From _Antti Karttunen_, Dec 24 2015: (Start)", "Example illustrating the role of this sequence in factorial base representation:", "   n  A007623(n)       a(n) [= the most significant digit].", "   0 =   0               0", "   1 =   1               1", "   2 =  10               1", "   3 =  11               1", "   4 =  20               2", "   5 =  21               2", "   6 = 100               1", "   7 = 101               1", "   8 = 110               1", "   9 = 111               1", "  10 = 120               1", "  11 = 121               1", "  12 = 200               2", "  13 = 201               2", "  14 = 210               2", "  15 = 211               2", "  16 = 220               2", "  17 = 221               2", "  18 = 300               3", "  etc.", "Note that there is no any upper bound for the size of digits in this representation.", "(End)"], "mathematica": ["Table[Floor[n/#] &@ (k = 1; While[(k + 1)! <= n, k++]; k!), {n, 0, 120}] (* _Michael De Vlieger_, Aug 30 2016 *)"], "program": ["(PARI) A099563(n) = { my(i=2,dig=0); until(0==n, dig = n % i; n = (n - dig)/i; i++); return(dig); }; \\\\ _Antti Karttunen_, Dec 24 2015", "(Scheme)", "(define (A099563 n) (let loop ((n n) (i 2)) (let* ((dig (modulo n i)) (next-n (/ (- n dig) i))) (if (zero? next-n) dig (loop next-n (+ 1 i))))))", "(definec (A099563 n) (cond ((zero? n) n) ((= 1 (A265333 n)) 1) (else (+ 1 (A099563 (A257684 n)))))) ;; Based on given recurrence, using the memoization-macro definec", ";; _Antti Karttunen_, Dec 24-25 2015", "(Python)", "def a(n):", "    i=2", "    d=0", "    while n:", "        d=n%i", "        n=(n - d)//i", "        i+=1", "    return d", "print([a(n) for n in range(201)]) # _Indranil Ghosh_, Jun 21 2017, after PARI code"], "xref": ["Cf. A001563, A007623, A099564.", "Cf. also A034968, A048764, A051683, A055881, A126307, A230420, A246359, A249069, A257679, A257684, A257686, A257687, A265890, A265891, A265894, A265333, A265334."], "keyword": "nonn", "offset": "0,5", "author": "_John W. Layman_, Oct 22 2004", "ext": ["a(0) = 0 prepended and the alternative description added to the name-field by _Antti Karttunen_, Dec 24 2015"], "references": 34, "revision": 33, "time": "2021-03-10T07:23:26-05:00", "created": "2005-02-20T03:00:00-05:00"}]}