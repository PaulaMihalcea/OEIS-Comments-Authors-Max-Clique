{"greeting": "Greetings from The On-Line Encyclopedia of Integer Sequences! http://oeis.org/", "query": "id:A276004", "count": 1, "start": 0, "results": [{"number": 276004, "data": "0,0,0,1,0,0,0,0,1,2,1,1,0,1,0,1,0,1,0,0,0,1,0,0,0,0,0,1,0,0,1,1,2,3,2,2,1,2,1,2,1,2,1,1,1,2,1,1,0,0,1,2,1,1,0,0,1,2,1,1,0,1,1,2,1,2,0,0,1,2,1,1,0,1,0,1,0,1,0,1,1,2,1,2,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,1,0,0,0,0,1,2,1,1,0,1,0,1,0,1,0,0,0,1,0,0,0", "name": "a(n) = number of nonzero digits in factorial base representation of n that are hit by more significant digits from left; a(n) = A060502(n) - A060128(n).", "comment": ["a(n) = Number of times a nonzero digit d_i appears in position i of factorial base representation of n (where the least significant digit is in the position 1) such that there is another nonzero digit d_j in such position j > i that j - d_j = i."], "link": ["Antti Karttunen, <a href=\"/A276004/b276004.txt\">Table of n, a(n) for n = 0..40320</a>", "<a href=\"/index/Fa#facbase\">Index entries for sequences related to factorial base representation</a>"], "formula": ["a(n) = A060502(n) - A060128(n).", "a(n) = A000120(2*A275727(n) AND A276010(n)), where AND is a bitwise-and given in A004198."], "example": ["For n=15 (\"211\" in factorial base) the least significant 1 at position 1 is hit by its immediate left neighbor 1 and also by 2 at position 3, as (2-1) = (3-2) = 1, the position where the least significant 1 itself is. However, this is counted just as one hit, because this sequence gives the number of digits that are hit, instead of number digits that hit, thus a(15)=1."], "program": ["(Scheme, two variants)", "(define (A276004 n) (- (A060502 n) (A060128 n)))", "(define (A276004 n) (let ((fv (list->vector (cons 0 (reverse (n->factbase n)))))) (let loop ((i 1) (c 0)) (if (>= i (vector-length fv)) c (let ((d (vector-ref fv i))) (cond ((zero? d) (loop (+ 1 i) c)) ((zero? (vector-ref fv (- i d))) (loop (+ 1 i) c)) (else (begin (vector-set! fv (- i d) 0) (loop (+ 1 i) (+ 1 c))))))))))", "(define (n->factbase n) (let loop ((n n) (fex (if (zero? n) (list 0) (list))) (i 2)) (cond ((zero? n) fex) (else (loop (floor->exact (/ n i)) (cons (modulo n i) fex) (+ 1 i))))))"], "xref": ["Cf. A000120, A004198, A060128, A060502, A275727, A276010.", "Cf. A276005 (indices of zeros), A276006 (of nonzeros).", "Differs from A276007 for the first time at n=15, where a(15)=1, while A276004(15)=2."], "keyword": "nonn,base", "offset": "0,10", "author": "_Antti Karttunen_, Aug 17 2016", "references": 6, "revision": 20, "time": "2017-03-24T00:47:59-04:00", "created": "2016-08-17T22:17:14-04:00"}]}