{"greeting": "Greetings from The On-Line Encyclopedia of Integer Sequences! http://oeis.org/", "query": "id:A331313", "count": 1, "start": 0, "results": [{"number": 331313, "data": "1,0,0,1,1,-1,1,1,1,-1,0,0,0,-1,0,1,1,-1,1,1,0,1,-1,1,1,1,1,1,1,0,0,-1,0,0,0,0,-1,1,-1,-1,-1,-1,1,-1,0,-1,0,-1,0,-1,-1,0,1,-1,-1,1,1,0,0,1,0,0,1,1,-1,0,0,-1,1,0,0,0,-1,-1,1,-1,-1,1,-1", "name": "Expansion of Pi in balanced ternary.", "comment": ["The correspondence to A004602 (see Formula section) can be seen by comparing the leading terms of each sequence from right to left and adding a carry when A004602 is 2:", "A004602:  1, 0, 0, 1, 0, 2, 1, 1, 0, 1, 2, 2, 2, 2, 0, 1, 0, 2, 1, 1, 0, 0, 2, 1", "  a(n) :  1, 0, 0, 1, 1,-1, 1, 1, 1,-1, 0, 0, 0,-1, 0, 1, 1,-1, 1, 1, 0, 1,-1, 1"], "link": ["Iain Fox, <a href=\"/A331313/b331313.txt\">Table of n, a(n) for n = 2..20000</a>", "Thomas K\u00f6nig, <a href=\"/A331313/a331313.c.txt\">Program to calculate the sequence with C and the GNU mpfr library</a>", "Wikipedia, <a href=\"http://en.wikipedia.org/wiki/Balanced_ternary\">Balanced ternary</a>"], "formula": ["Calculation can be done from A004602:", "Choose n so that A004602(n) does not equal 2", "Initialize {f(n)} from A004602 up to index n", "Let i loop from n down to 2", "  while f(i) is larger than 1", "    set f(i) to f(i) - 3", "    set f(i - 1) to f(i - 1) + 1", "Set {a(n)} to {f(n)}"], "example": ["10.011T111T000T011T1101T11111100T0000T..."], "program": ["(C) See link by Thomas K\u00f6nig", "(PARI) \\\\ (adjust realprecision as needed)", "first(n) = {default(realprecision, 10000); for(x=-1, +oo, v=digits(floor(Pi*3^(n+x)), 3); if(v[#v]!=1, break())); while(vecmax(v)==2, for(x=1, #v, if(v[x]==2, v[x]=-1; v[x-1]++))); vecextract(v,2^n-1)} \\\\ _Iain Fox_, Feb 03 2020"], "xref": ["Pi in base b: A004601 (b=2), A004602 (b=3), A004603 (b=4), A004604 (b=5), A004605 (b=6), A004606 (b=7), A006941 (b=8), A004608 (b=9), A000796 (b=10), A068436 (b=11), A068437 (b=12), A068438 (b=13), A068439 (b=14), A068440 (b=15), A062964 (b=16), A060707 (b=60).", "Expansion of e in balanced ternary: A331990."], "keyword": "sign,base,easy", "offset": "2", "author": "_Thomas K\u00f6nig_, Jan 13 2020", "references": 3, "revision": 36, "time": "2020-03-15T09:42:57-04:00", "created": "2020-02-29T22:21:36-05:00"}]}