{"greeting": "Greetings from The On-Line Encyclopedia of Integer Sequences! http://oeis.org/", "query": "id:A163356", "count": 1, "start": 0, "results": [{"number": 163356, "data": "0,1,3,2,8,10,11,9,12,14,15,13,7,6,4,5,16,18,19,17,20,21,23,22,28,29,31,30,27,25,24,26,48,50,51,49,52,53,55,54,60,61,63,62,59,57,56,58,47,46,44,45,39,37,36,38,35,33,32,34,40,41,43,42,128,130,131,129,132,133", "name": "Inverse permutation to A163355, related to Hilbert's curve in N x N grid.", "link": ["A. Karttunen, <a href=\"/A163356/b163356.txt\">Table of n, a(n) for n = 0..65535</a>", "<a href=\"/index/Per#IntegerPermutation\">Index entries for sequences that are permutations of the natural numbers</a>"], "formula": ["a(0) = 0, and provided that d=1, 2 or 3, then a((d*(4^i))+r) = (((2+(i mod 2))^d mod 5)-1) * [either A024036(i) - a(r), if d is 3, and A057300(a(r)) in other cases].", "From _Antti Karttunen_, Apr 14 2018: (Start)", "A059905(a(n)) = A059253(n).", "A059906(a(n)) = A059252(n).", "a(n) = A000695(A059253(n)) + 2*A000695(A059252(n)).", "(End)"], "program": ["(MIT Scheme:)", "(define (A163356 n) (if (zero? n) n (let* ((i (floor->exact (/ (A000523 n) 2))) (d (modulo (floor->exact (/ n (expt 4 i))) 4)) (r (modulo n (expt 4 i)))) (+ (* (-1+ (modulo (expt (+ 2 (modulo i 2)) d) 5)) (expt 4 i)) (cond ((= 3 d) (- (expt 4 i) 1 (A163356 r))) (else (A057300 (A163356 r))))))))", "(Another, iterative version): (define (A163356v2 n) (let loop ((z 0) (n n) (i 0)) (let ((dd (modulo n 4))) (cond ((zero? n) z) ((= 0 dd) (loop z (floor->exact (/ n 4)) (+ i 2))) ((= 2 dd) (loop (+ (* 3 (expt 2 i)) (A057300 z)) (floor->exact (/ n 4)) (+ i 2))) ((= 1 dd) (loop (+ (expt 2 (+ i (floor->exact (/ (modulo i 4) 2)))) (A057300 z)) (floor->exact (/ n 4)) (+ i 2))) (else (loop (+ (expt 2 (+ i (- 1 (floor->exact (/ (modulo i 4) 2))))) (- (expt 2 i) z 1)) (floor->exact (/ n 4)) (+ i 2)))))))", "(PARI)", "A057300(n) = { my(t=1,s=0); while(n>0, if(1==(n%4),n++,if(2==(n%4),n--)); s += (n%4)*t; n >>= 2; t <<= 2); (s); };", "A163356(n) = if(!n,n,my(i = (#binary(n)-1)\\2, f = 4^i, d = (n\\f)%4, r = (n%f)); (((((2+(i%2))^d)%5)-1)*f) + if(3==d,f-1-A163356(r),A057300(A163356(r)))); \\\\ _Antti Karttunen_, Apr 14 2018"], "xref": ["Inverse: A163355.", "Second and third \"powers\": A163906, A163916. See also A059252-A059253.", "In range [A000302(n-1)..A024036(n)] of this permutation, the number of cycles is given by A163910, number of fixed points seems to be given by A147600(n-1) (fixed points themselves: A163901). Max. cycle sizes is given by A163911 and LCM's of all cycle sizes by A163912.", "Cf. A059252, A059253, A059905, A059906.", "Cf. also A302844, A302846, A302781."], "keyword": "nonn", "offset": "0,3", "author": "_Antti Karttunen_, Jul 29 2009", "ext": ["Links to further derived sequences and a nicer Scheme function & formula added by _Antti Karttunen_, Sep 21 2009"], "references": 17, "revision": 15, "time": "2018-04-15T15:05:11-04:00", "created": "2010-06-01T03:00:00-04:00"}]}