{"greeting": "Greetings from The On-Line Encyclopedia of Integer Sequences! http://oeis.org/", "query": "id:A090460", "count": 1, "start": 0, "results": [{"number": 90460, "data": "1,1,1,0,0,0,0,0,3,0,10,12,35,52,19,20,349,361,637,3678,15237,11875,13306,10964,27223,37054,201408,510152,1995949,4867214,11255174,35705858,63029611,129860749,258247089,190294696,686125836,2195910738", "name": "Number of essentially different permutations of the numbers 1 to n such that the sum of adjacent numbers is a square.", "comment": ["For n > 31, some solutions are circular; that is, the first and last numbers also sum to a square. Note that A071983 counts each circular solution n times. This sequence counts each circular solution only once. The Mathematica program uses backtracking to find all solutions, which can be printed by removing the comment symbols."], "formula": ["a(n) = A071983(n) - (n-1)*A071984(n)."], "example": ["See A071983."], "mathematica": ["SquareQ[n_] := IntegerQ[Sqrt[n]]; try[lev_] := Module[{t, j, circular}, If[lev>n, circular=SquareQ[soln[[1]]+soln[[n]]]; If[(!circular&&soln[[1]]<soln[[n]]) || (circular&&soln[[1]]==1&&soln[[2]]<=soln[[n]]), (*Print[soln];*) cnt++ ], (*else append another number to the soln list*) t=soln[[lev-1]]; For[j=1, j<=Length[s[[t]]], j++, If[ !MemberQ[soln, s[[t]][[j]]], soln[[lev]]=s[[t]][[j]]; try[lev+1]; soln[[lev]]=0]]]]; nMax=32; For[lst={}; n=15, n<=nMax, n++, s=Table[{}, {n}]; For[i=1, i<=n, i++, For[j=1, j<=n, j++, If[i != j && SquareQ[i+j], AppendTo[s[[i]], j]]]]; soln=Table[0, {n}]; For[cnt=0; i=1, i<=n, i++, soln[[1]]=i; try[2]]; AppendTo[lst, cnt]]; lst"], "xref": ["Cf. A071983, A071984 (number of circular solutions), A090461 (n for which there is a solution).", "Cf. A078107 (n for which there is no solution)."], "keyword": "hard,nonn", "offset": "15,9", "author": "_T. D. Noe_, Dec 01 2003", "ext": ["a(43)-a(45) from _Donovan Johnson_, Sep 14 2010", "a(46)-a(47) from _Jud McCranie_, Aug 18 2018", "a(48) from _Jud McCranie_, Sep 17 2018", "a(49)-a(52) from _Bert Dobbelaere_, Dec 30 2018", "a(47) corrected by _Bert Dobbelaere_, Jan 12 2019"], "references": 8, "revision": 24, "time": "2019-01-13T03:30:48-05:00", "created": "2004-02-19T03:00:00-05:00"}]}