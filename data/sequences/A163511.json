{"greeting": "Greetings from The On-Line Encyclopedia of Integer Sequences! http://oeis.org/", "query": "id:A163511", "count": 1, "start": 0, "results": [{"number": 163511, "data": "1,2,4,3,8,9,6,5,16,27,18,25,12,15,10,7,32,81,54,125,36,75,50,49,24,45,30,35,20,21,14,11,64,243,162,625,108,375,250,343,72,225,150,245,100,147,98,121,48,135,90,175,60,105,70,77,40,63,42,55,28,33,22,13,128", "name": "a(0)=1. a(n) = p(A000120(n)) * product{m=1 to A000120(n)} p(m)^A163510(n,m), where p(m) is the m-th prime.", "comment": ["This is a permutation of the positive integers.", "From _Antti Karttunen_, Jun 20 2014: (Start)", "Note the indexing: the domain starts from 0, while the range excludes zero, thus this is neither a bijection on the set of nonnegative integers nor on the set of positive natural numbers, but a bijection from the former set to the latter.", "Apart from that discrepancy, this could be viewed as yet another \"entanglement permutation\" where the two complementary pairs to be interwoven together are even and odd numbers (A005843/A005408) which are entangled with the complementary pair even numbers (taken straight) and odd numbers in the order they appear in A003961: (A005843/A003961). See also A246375 which has almost the same recurrence.", "Note how the even bisection halved gives the same sequence back. (For a(0)=1, take ceiling of 1/2).", "(End)", "From _Antti Karttunen_, Dec 30 2017: (Start)", "This irregular table can be represented as a binary tree. Each child to the left is obtained by doubling the parent, and each child to the right is obtained by applying A003961 to the parent:", "                                     1", "                                     |", "                  ...................2...................", "                 4                                       3", "       8......../ \\........9                   6......../ \\........5", "      / \\                 / \\                 / \\                 / \\", "     /   \\               /   \\               /   \\               /   \\", "    /     \\             /     \\             /     \\             /     \\", "  16       27         18       25         12       15         10       7", "32  81   54  125    36  75   50  49     24  45   30  35     20  21   14 11", "etc.", "Sequence A005940 is obtained by scanning the same tree level by level in mirror image fashion. Also in binary trees A253563 and A253565 the terms on level of the tree are some permutation of the terms present on the level n of this tree. A252464(n) gives the distance of n from 1 in all these trees, and A252463 gives the parent of the node containing n.", "A252737(n) gives the sum and A252738(n) the product of terms on row n (where 1 is on row 0, 1 on row 1, 3 and 4 on row 2, etc.). A252745(n) gives the number of nodes on level n whose left child is smaller than the right child, and A252744(n) is an indicator function for those nodes.", "(End)", "Note that the idea behind maps like this (and the mirror image A005940) admits also using alternative orderings of primes, not just standard magnitude-wise ordering (A000040). For example, A332214 is a similar sequence but with primes rearranged as in A332211, and A332817 is obtained when primes are rearranged as in A108546. - _Antti Karttunen_, Mar 11 2020", "From _Lorenzo Sauras Altuzarra_, Nov 28 2020: (Start)", "This sequence is generated from A228351 by applying the following procedure: 1) eliminate the compositions that end in one unless the first one, 2) subtract one unit from every component, 3) replace every tuple [t_1, ..., t_r] by Product_{k=1..r} A000040(k)^(t_k) (see the examples).", "Is it true that a(n) = A337909(n+1) if and only if a(n+1) is not a term of A161992?", "Does this permutation have any other cycle apart from (1), (2) and (6, 9, 16, 7)? (End)"], "link": ["Antti Karttunen, <a href=\"/A163511/b163511.txt\">Table of n, a(n) for n = 0..8192</a>", "<a href=\"/index/Bi#binary\">Index entries for sequences related to binary expansion of n</a>", "<a href=\"/index/Per#IntegerPermutation\">Index entries for sequences that are permutations of the natural numbers</a>", "<a href=\"/index/Pri#prime_indices\">Index entries for sequences computed from indices in prime factorization</a>"], "formula": ["For n >= 1, a(2n) is even, a(2n+1) is odd. a(2^k) = 2^(k+1), for all k >= 0.", "From _Antti Karttunen_, Jun 20 2014: (Start)", "a(0) = 1, a(1) = 2, a(2n) = 2*a(n), a(2n+1) = A003961(a(n)).", "As a more general observation about the parity, we have:", "For n >= 1, A007814(a(n)) = A135523(n) = A007814(n) + A209229(n). [This permutation preserves the 2-adic valuation of n, except when n is a power of two, in which cases that value is incremented by one.]", "For n >= 1, A055396(a(n)) = A091090(n) = A007814(n+1) + 1 - A036987(n).", "For n >= 1, a(A000225(n)) = A000040(n).", "(End)", "From _Antti Karttunen_, Oct 11 2014: (Start)", "As a composition of related permutations:", "a(n) = A005940(1+A054429(n)).", "a(n) = A064216(A245612(n))", "a(n) = A246681(A246378(n)).", "Also, for all n >= 0, it holds that:", "A161511(n) = A243503(a(n)).", "A243499(n) = A243504(a(n)).", "(End)", "More linking identities from _Antti Karttunen_, Dec 30 2017: (Start)", "A046523(a(n)) = A278531(n). [See also A286531.]", "A278224(a(n)) = A285713(n). [Another filter-sequence.]", "A048675(a(n)) = A135529(n) seems to hold for n >= 1.", "A250245(a(n)) = A252755(n).", "A252742(a(n)) = A252744(n).", "A245611(a(n)) = A253891(n).", "A249824(a(n)) = A275716(n).", "A292263(a(n)) = A292264(n). [A292944(n) + A292264(n) = n.]", "--", "A292383(a(n)) = A292274(n).", "A292385(a(n)) = A292271(n). [A292271(n) +  A292274(n) = n.]", "--", "A292941(a(n)) = A292942(n).", "A292943(a(n)) = A292944(n).", "A292945(a(n)) = A292946(n). [A292942(n) + A292944(n) + A292946(n) = n.]", "--", "A292253(a(n)) = A292254(n).", "A292255(a(n)) = A292256(n). [A292944(n) + A292254(n) + A292256(n) = n.]", "--", "A279339(a(n)) = A279342(n).", "a(A071574(n)) = A269847(n).", "a(A279341(n)) = A279338(n).", "a(A252756(n)) = A250246(n).", "(1+A008836(a(n)))/2 = A059448(n).", "(End)"], "example": ["For n=3, whose binary representation is \"11\", we have A000120(3)=2, with A163510(3,1) = A163510(3,2) = 0, thus a(3) = p(2) * p(1)^0 * p(2)^0 = 3*1*1 = 3.", "For n=9, \"1001\" in binary, we have A000120(9)=2, with A163510(9,1) = 0 and A163510(9,2) = 2, thus a(9) = p(2) * p(1)^0 * p(2)^2 = 3*1*9 = 27.", "For n=10, \"1010\" in binary, we have A000120(10)=2, with A163510(10,1) = 1 and A163510(10,2) = 1, thus a(10) = p(2) * p(1)^1 * p(2)^1 = 3*2*3 = 18.", "For n=15, \"1111\" in binary, we have A000120(15)=4, with A163510(15,1) = A163510(15,2) = A163510(15,3) = A163510(15,4) = 0, thus a(15) = p(4) * p(1)^0 * p(2)^0 * p(3)^0 * p(4)^0 = 7*1*1*1*1 = 7.", "[1], [2], [1,1], [3], [1,2], [2,1] ... -> [1], [2], [3], [1,2], ... -> [0], [1], [2], [0,1], ... -> 2^0, 2^1, 2^2, 2^0*3^1, ... = 1, 2, 4, 3, ... - _Lorenzo Sauras Altuzarra_, Nov 28 2020"], "mathematica": ["f[n_] := Reverse@ Map[Ceiling[(Length@ # - 1)/2] &, DeleteCases[Split@ Join[Riffle[IntegerDigits[n, 2], 0], {0}], {k__} /; k == 1]]; {1}~Join~", "Table[Function[t, Prime[t] Product[Prime[m]^(f[n][[m]]), {m, t}]][DigitCount[n, 2, 1]], {n, 120}] (* _Michael De Vlieger_, Jul 25 2016 *)"], "program": ["(Scheme, with memoizing definec-macro from Antti Karttunen's IntSeq-library)", ";; Version based on given recurrence:", "(definec (A163511 n) (cond ((<= n 1) (+ n 1)) ((even? n) (* 2 (A163511 (/ n 2)))) (else (A003961 (A163511 (/ (- n 1) 2))))))", ";; Version based on Quet's original formula:", "(define (A163511 n) (if (zero? n) 1 (let ((w (A000120 n))) (let loop ((p (A000040 w)) (m w)) (cond ((zero? m) p) (else (loop (* p (expt (A000040 m) (A163510 (+ (A000788 (- n 1)) m)))) (- m 1))))))))", ";; _Antti Karttunen_, Jun 20 2014"], "xref": ["Inverse: A243071.", "Cf. A000040, A000120, A000225, A000788, A003961, A005940, A007814, A054429, A055396, A064216, A135523, A161992, A163510, A245605, A245612, A246375, A246378, A246681, A161511, A228351, A243499, A243503, A243504, A269854, A280873, A285727, A293437, A337909.", "Cf. A332214, A332817 (variants)."], "keyword": "base,nonn,look", "offset": "0,2", "author": "_Leroy Quet_, Jul 29 2009", "ext": ["More terms computed and examples added by _Antti Karttunen_, Jun 20 2014"], "references": 92, "revision": 72, "time": "2020-12-05T10:25:51-05:00", "created": "2010-06-01T03:00:00-04:00"}]}